--- libstdcpp3.hpp.bak	2013-04-30 10:48:05.747481323 +0700
+++ libstdcpp3.hpp	2013-04-30 10:51:02.499490360 +0700
@@ -25,14 +25,14 @@
 #endif
 
 #if defined(__osf__) && !defined(_REENTRANT) \
-  && ( defined(_GLIBCXX_HAVE_GTHR_DEFAULT) || defined(_GLIBCPP_HAVE_GTHR_DEFAULT) )
+  && ( defined(_GLIBCXX_HAS_GTHREADS) || defined(_GLIBCPP_HAS_GTHREADS) )
 // GCC 3 on Tru64 forces the definition of _REENTRANT when any std lib header
 // file is included, therefore for consistency we define it here as well.
 #  define _REENTRANT
 #endif
 
 #ifdef __GLIBCXX__ // gcc 3.4 and greater:
-#  if defined(_GLIBCXX_HAVE_GTHR_DEFAULT) \
+#  if defined(_GLIBCXX_HAS_GTHREADS) \
         || defined(_GLIBCXX__PTHREADS)
       //
       // If the std lib has thread support turned on, then turn it on in Boost
@@ -44,13 +44,13 @@
 #     define BOOST_DISABLE_THREADS
 #  endif
 #elif defined(__GLIBCPP__) \
-        && !defined(_GLIBCPP_HAVE_GTHR_DEFAULT) \
+        && !defined(_GLIBCPP_HAS_GTHREADS) \
         && !defined(_GLIBCPP__PTHREADS)
    // disable thread support if the std lib was built single threaded:
 #  define BOOST_DISABLE_THREADS
 #endif
 
-#if (defined(linux) || defined(__linux) || defined(__linux__)) && defined(__arm__) && defined(_GLIBCPP_HAVE_GTHR_DEFAULT)
+#if (defined(linux) || defined(__linux) || defined(__linux__)) && defined(__arm__) && defined(_GLIBCPP_HAS_GTHREADS)
 // linux on arm apparently doesn't define _REENTRANT
 // so just turn on threading support whenever the std lib is thread safe:
 #  define BOOST_HAS_THREADS
